<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vidhi Sehrawat | PhD Candidate in Biomedical Sciences</title>
  <style>
    :root {
      --yellow: #fff176;
      --white: #ffffff;
      --text: #111;
      --highlight: #f7c948;
      --font-mono: 'Courier New', Courier, monospace;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: var(--font-mono);
      background-color: var(--white);
      color: var(--text);
      line-height: 1.6;
    }

    header {
      background-color: var(--yellow);
      padding: 3rem 1rem;
      text-align: center;
      border-bottom: 2px solid #ddd;
    }

    header h1 {
      margin: 0;
      font-size: 2.5rem;
      font-weight: bold;
    }

    header p {
      font-size: 1.2rem;
      margin-top: 0.5rem;
    }

    nav {
      text-align: center;
      padding: 1rem;
      background-color: var(--white);
      border-bottom: 1px solid #eee;
    }

    nav a {
      color: var(--text);
      text-decoration: none;
      margin: 0 1rem;
      font-weight: bold;
      font-size: 1rem;
    }

    nav a:hover {
      color: var(--highlight);
    }

    main {
      padding: 2rem;
      max-width: 900px;
      margin: auto;
    }

    section {
      margin-bottom: 3rem;
    }

    section h2 {
      border-bottom: 2px solid var(--yellow);
      padding-bottom: 0.3rem;
      font-size: 1.5rem;
    }

    ul {
      padding-left: 1.2rem;
    }

    footer {
      text-align: center;
      padding: 1.5rem;
      font-size: 0.9rem;
      background-color: var(--yellow);
      margin-top: 2rem;
    }

    .quote {
      font-style: italic;
      margin: 1rem 0;
      color: #555;
    }

    .highlight {
      background-color: #fefcbf;
      padding: 0.3rem;
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      z-index: 1000;
      overflow: auto; /* to allow scrolling if modal is too tall */
    }

    .modal-content {
      background: white;
      margin: 5% auto;
      padding: 2rem;
      width: 90%;
      max-width: 700px;
      border-radius: 10px;
      text-align: center;
      position: relative;
    }

    .close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      font-size: 1.5rem;
      cursor: pointer;
      user-select: none;
    }

    /* Scrollable container for the mentee list */
    .modalContentScroll {
      max-height: 50vh;
      overflow-y: auto;
      margin-top: 1rem;
      padding-right: 10px; /* space for scrollbar */
      text-align: left;
      border: 1px solid #ddd;
      border-radius: 6px;
      background-color: #fafafa;
    }

    .modalContentScroll ul {
      margin: 0;
      padding-left: 1.2rem;
      list-style-type: disc;
    }

    /* World map container styling */
    #worldMap {
      width: 100%;
      height: 400px;
      margin-top: 1rem;
    }

    /* Tooltip for dots */
    .tooltip {
      position: absolute;
      padding: 4px 8px;
      background: #333;
      color: #fff;
      border-radius: 4px;
      font-size: 0.85rem;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.15s ease-in-out;
    }

  </style>
</head>
<body>
  <header>
    <h1>Vidhi S.</h1>
    <p>Simulations | Glycoproteins | Neurotransmission</p>
  </header>

  <nav>
    <a href="#about">About</a>
    <a href="#cv">CV</a>
    <a href="#research">Research</a>
    <a href="#mentoring">Mentoring</a>
    <a href="#contact">Contact</a>
  </nav>

  <main>
    <section id="about">
      <h2>About</h2>
      <p>
        I‚Äôm a PhD candidate in Biomedical Sciences, investigating how glycans affect neurotransmitter receptors‚Äîthrough molecular dynamics simulations. My passion lies in decoding the invisible architectures that govern how brain works at the molecular level.
      </p>
      <p class="quote">
        ‚ÄúWhat you learn from a life in science is the vastness of our ignorance.‚Äù ‚Äì David Eagleman
      </p>
    </section>

    <section id="cv">
      <h2>CV</h2>
      <p>Download my full <a href="files/vidhi_cv.pdf" target="_blank">Curriculum Vitae (PDF) (coming soon)</a>.</p>
      <ul>
        <li>Project 1</li>
        <li>Project 2</li>
        <li>Project 3</li>
      </ul>
    </section>

    <section id="research">
      <h2>Research</h2>
      <p>
        I use GROMACS simulations, Python data pipelines, and visual analytics to explore how glycosylation affect ligand-gated ion channels. My goal is to inform therapeutic strategies for neurological disorders with a molecular understanding rooted in simulation.
      </p>
      <p class="highlight">
        My research is supported by Dioscuri, a programme initiated by the Max Planck Society, jointly managed with the National Science Centre in Poland, and mutually funded by the Polish Ministry of Education and Science and the German Federal Ministry of Education and Research (BMBF).
      </p>
    </section>

    <section id="mentoring">
      <h2>Mentoring & Teaching</h2>
      <p>
        For the past 6+ years, I have been mentoring early-career researchers and students on grad school applications, interview preparation, scientific communication, and academic growth. If you're a student looking to develop a career in science with proper 
        <span style="color: blue; cursor: pointer; text-decoration: underline;" id="openModalBtn">guidance</span>, I‚Äôd love to connect.
      </p>
    </section>

    <!-- Modal for mentee map and list -->
    <div id="menteeMap" class="modal" aria-hidden="true" role="dialog" aria-labelledby="modalTitle" aria-modal="true">
      <div class="modal-content" role="document">
        <span class="close" id="closeModalBtn" aria-label="Close modal">&times;</span>
        <h2 id="modalTitle">Where My Mentees Are</h2>
        <p>Some of the universities and countries where I‚Äôve had the joy of mentoring students:</p>

        <div id="worldMap"></div>

        <div class="modalContentScroll" tabindex="0" aria-label="List of mentee countries">
          <ul id="countryList">
            <!-- Country list with counts will be populated by JS -->
          </ul>
        </div>
      </div>
    </div>

    <section id="contact">
      <h2>Contact</h2>
      <p>Email: <a href="mailto:vidhi.sehrawat@doctoral.uj.edu.pl">vidhi.sehrawat@doctoral.uj.edu.pl</a></p>
      <p>GitHub: <a href="https://github.com/glycovid" target="_blank" rel="noopener">@glycovid</a></p>
      <p>LinkedIn: <a href="https://www.linkedin.com/in/vidhi-sehrawat/" target="_blank" rel="noopener">Vidhi Sehrawat</a></p>
    </section>
  </main>

  <footer>
    &copy; 2025 Vidhi Sehrawat ‚Äî Made with ‚òÄÔ∏è, ‚òï, and command-line clarity üß†.
  </footer>

  <!-- D3.js for world map and interactive dots -->
  <script src="https://d3js.org/d3.v7.min.js"></script>

  <script>
    // Data: mentee counts per country (ISO 3166-1 alpha-2 code : count)
    const menteeData = {
      "TW": 1,
      "PL": 4,
      "CH": 3,
      "US": 2,
      "FR": 5,
      "IN": 6,
      "IT": 3,
      "ES": 1,
      "PT": 2,
      "UK": 2,
      "SE": 2,
      "DE": 3
      // Add more country codes and counts if needed
    };

    // Mapping of country codes to country names (for tooltips and list)
    const countryNames = {
      "TW": "Taiwan",
      "PL": "Poland",
      "CH": "Switzerland",
      "US": "USA",
      "FR": "France",
      "IN": "India",
      "IT": "Italy",
      "ES": "Spain",
      "PT": "Portugal",
      "UK": "United Kingdom",
      "SE": "Sweden",
      "DE": "Germany"
    };

    // Modal open/close logic
    const modal = document.getElementById('menteeMap');
    const openBtn = document.getElementById('openModalBtn');
    const closeBtn = document.getElementById('closeModalBtn');

    openBtn.addEventListener('click', () => {
      modal.style.display = 'block';
      modal.setAttribute('aria-hidden', 'false');
      // Focus on the scrollable list for accessibility
      document.querySelector('.modalContentScroll').focus();
    });

    closeBtn.addEventListener('click', () => {
      modal.style.display = 'none';
      modal.setAttribute('aria-hidden', 'true');
      openBtn.focus();
    });

    // Close modal if clicked outside content
    window.addEventListener('click', e => {
      if (e.target === modal) {
        modal.style.display = 'none';
        modal.setAttribute('aria-hidden', 'true');
        openBtn.focus();
      }
    });

    // Populate country list in modal with counts
    const countryList = document.getElementById('countryList');
    Object.entries(menteeData)
      .sort((a,b) => b[1] - a[1]) // Sort descending by count
      .forEach(([code, count]) => {
        const li = document.createElement('li');
        li.textContent = `${countryNames[code] || code} (${count} mentee${count > 1 ? 's' : ''})`;
        countryList.appendChild(li);
      });

    // Dimensions for the SVG map
    const width = document.getElementById('worldMap').clientWidth;
    const height = 400;

    // Create SVG element
    const svg = d3.select('#worldMap')
      .append('svg')
      .attr('width', width)
      .attr('height', height);

    // Tooltip div for showing country and count on hover
    const tooltip = d3.select('body').append('div')
      .attr('class', 'tooltip');

    // Projection and path for world map
    const projection = d3.geoNaturalEarth1()
      .scale(width / 1.3 / Math.PI)
      .translate([width / 2, height / 2]);

    const path = d3.geoPath().projection(projection);

    // Load and render world map
    d3.json('https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json').then(worldData => {
      const countries = topojson.feature(worldData, worldData.objects.countries).features;

      // Draw countries
      svg.selectAll('path')
        .data(countries)
        .enter()
        .append('path')
        .attr('d', path)
        .attr('fill', '#f0f0f0')
        .attr('stroke', '#999');

      // Plot mentee dots
      // For each country code in menteeData, find centroid and plot circle scaled by mentee count

      // We'll use a helper to map country code to numeric id for matching topojson country ids
      // country code to ISO numeric code mapping (partial for the used countries)
      const countryCodeToId = {
        "TW": 158,
        "PL": 616,
        "CH": 756,
        "US": 840,
        "FR": 250,
        "IN": 356,
        "IT": 380,
        "ES": 724,
        "PT": 620,
        "UK": 826,
        "SE": 752,
        "DE": 276
      };

      // Filter topojson features for only the countries we have data for
      const menteeCountries = countries.filter(d => {
        return Object.values(countryCodeToId).includes(d.id);
      });

      // Create a scale for circle radius
      const maxCount = Math.max(...Object.values(menteeData));
      const radiusScale = d3.scaleSqrt()
        .domain([0, maxCount])
        .range([0, 20]);

      // Map country id to mentee count
      const idToCount = {};
      for (const [code, count] of Object.entries(menteeData)) {
        const id = countryCodeToId[code];
        if (id) idToCount[id] = count;
      }

      svg.selectAll('circle')
        .data(menteeCountries)
        .enter()
        .append('circle')
        .attr('cx', d => {
          const centroid = path.centroid(d);
          return centroid[0];
        })
        .attr('cy', d => {
          const centroid = path.centroid(d);
          return centroid[1];
        })
        .attr('r', d => radiusScale(idToCount[d.id] || 0))
        .attr('fill', '#f7c948')
        .attr('stroke', '#333')
        .attr('stroke-width', 1)
        .attr('cursor', 'pointer')
        .on('mouseenter', function(event, d) {
          const count = idToCount[d.id] || 0;
          const countryName = Object.entries(countryCodeToId).find(([code, id]) => id === d.id)?.[0] || d.id;
          tooltip.style('opacity', 1)
            .html(`<strong>${countryNames[countryName] || countryName}</strong><br>${count} mentee${count > 1 ? 's' : ''}`)
            .style('left', (event.pageX + 10) + 'px')
            .style('top', (event.pageY - 28) + 'px');
        })
        .on('mousemove', function(event) {
          tooltip.style('left', (event.pageX + 10) + 'px')
                 .style('top', (event.pageY - 28) + 'px');
        })
        .on('mouseleave', () => {
          tooltip.style('opacity', 0);
        });

    }).catch(err => {
      console.error('Error loading map data:', err);
      document.getElementById('worldMap').textContent = 'Failed to load world map.';
    });

  </script>

  <!-- Include topojson library for map projection support -->
  <script src="https://cdn.jsdelivr.net/npm/topojson@3"></script>
</body>
</html>
